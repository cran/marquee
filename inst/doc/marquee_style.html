<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />



<title>Marquee Styling</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>

<style type="text/css">
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
</style>



<style type="text/css">
code {
white-space: pre;
}
.sourceCode {
overflow: visible;
}
</style>
<style type="text/css" data-origin="pandoc">
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
{ counter-reset: source-line 0; }
pre.numberSource code > span
{ position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
{ content: counter(source-line);
position: relative; left: -1em; text-align: right; vertical-align: baseline;
border: none; display: inline-block;
-webkit-touch-callout: none; -webkit-user-select: none;
-khtml-user-select: none; -moz-user-select: none;
-ms-user-select: none; user-select: none;
padding: 0 4px; width: 4em;
color: #aaaaaa;
}
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa; padding-left: 4px; }
div.sourceCode
{ }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } 
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.at { color: #7d9029; } 
code span.bn { color: #40a070; } 
code span.bu { color: #008000; } 
code span.cf { color: #007020; font-weight: bold; } 
code span.ch { color: #4070a0; } 
code span.cn { color: #880000; } 
code span.co { color: #60a0b0; font-style: italic; } 
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.do { color: #ba2121; font-style: italic; } 
code span.dt { color: #902000; } 
code span.dv { color: #40a070; } 
code span.er { color: #ff0000; font-weight: bold; } 
code span.ex { } 
code span.fl { color: #40a070; } 
code span.fu { color: #06287e; } 
code span.im { color: #008000; font-weight: bold; } 
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.kw { color: #007020; font-weight: bold; } 
code span.op { color: #666666; } 
code span.ot { color: #007020; } 
code span.pp { color: #bc7a00; } 
code span.sc { color: #4070a0; } 
code span.ss { color: #bb6688; } 
code span.st { color: #4070a0; } 
code span.va { color: #19177c; } 
code span.vs { color: #4070a0; } 
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } 
</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Marquee Styling</h1>



<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">library</span>(marquee)</span></code></pre></div>
<p>As we discussed in the Marquee Syntax article, most of the syntax in
markdown is semantic, meaining that it concerns itself with the nature
of what it encodes, rather than the look of it. The other side of the
coin, how it looks, will be dealt with in this article. Note that this
division between semantics and style is also seen in HTML5 where the
looks is fully relegated to CSS and the tags are all semantic.</p>
<div id="a-slightly-less-cascading-style-specification" class="section level2">
<h2>A slightly less cascading style specification</h2>
<p>HTML has CSS to take care of styling for it, and that has over the
years morphed into a sprawling and powerful language of it’s own. Both
too complicated to support for something like marquee, and too
complicated to be needed for styling markdown (after all it’s main goal
is to style full webpages, not documents). Marquee instead defines it’s
own limited styling system which is simple enough to reason about, and
powerful enough to support what is needed for markdown text. Many
concepts are borrowed from CSS so if you are used to that you should
feel pretty much at home.</p>
<div id="styles" class="section level3">
<h3>Styles</h3>
<p>In marquee, a style defines the full specification for how an element
(block or span) should visually appear. It holds 28 different settings
concerning everything from font rendering, to spacing, coloring, and
alignment. Rather than going through all here, I’ll point towards the
documentation for the <code>style()</code> function.</p>
<p>While span and block elements takes the same style specifications,
some settings only apply to block elements and are ignored for spans.
These are <code>lineheight</code>, <code>align</code>,
<code>indent</code>, <code>hanging</code>, <code>margin</code>,
<code>bullets</code>, and <code>img_asp</code>.</p>
</div>
<div id="style-sets" class="section level3">
<h3>Style sets</h3>
<p>A style set is a collection of styles, each style related to a
specific type of element. It does not need to provide a style for all
elements in the text, and the elements doesn’t need to be complete. The
only hard requirement is that it contains a complete style named
<code>base</code>, from which everything else can be derived. marquee
ships with a style set called <code>classic_style()</code> which aims to
mimic the standard look of rendered markdown. New style sets can either
be build from the ground up or based off of
<code>classic_style()</code>.</p>
</div>
<div id="inheritance" class="section level3">
<h3>Inheritance</h3>
<p>Marquee uses a very simple inheritance model for it’s styling, that
can be boiled down to a single short sentance:</p>
<blockquote>
<p>An element inherits any unspecified from it’s parent element.</p>
</blockquote>
<p>Any setting in a style object set to <code>NULL</code> will be
inherited from the parent all the way down to the base style (which is
the reason why that style must be complete). As an example, let’s look
at the style for the <code>em</code> element in the
<code>classic_style()</code>:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="fu">classic_style</span>()[[<span class="dv">1</span>]]<span class="sc">$</span>em</span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a><span class="co">#&gt; &lt;marquee_style[1]&gt;</span></span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a><span class="co">#&gt; italic: TRUE</span></span></code></pre></div>
<p>The only thing it touches is the <code>italic</code> setting,
everything else is borrowed from whatever element it is placed into.</p>
<p>There are two other ways to influence style inheritance. The first
one is wrapping a value in <code>skip_inherit()</code>. This will
instruct marquee to inherit the value one level up in the hierarchy
rather than from the direct parent (if the parent of the parent is also
set to <code>skip_inherit()</code> it moves up yet another level, and so
on). The second one is wrapping a numeric value in
<code>relative()</code> which will instruct marquee to use the relative
value as a multiplier applied to the parent.</p>
</div>
<div id="sizing" class="section level3">
<h3>Sizing</h3>
<p>All sizes in a style is in (big)points (the distinction between
bigpoints and points are rather small and boring. Bigpoints are 1/72
inches, which is what we use). Instead of setting a style setting
directly to a numeric value, you can make it relative to the font size
of the style using <code>em()</code>. This is beneficial for
e.g. padding, margin, indent, etc. where you often want it to scale with
the font size. In the case you set the size to an em value, it will be
relative to it’s parent and effectively be equivalent to using
<code>relative()</code>. There is a variant of em values called
<code>rem()</code> (root em). Instead of making the setting relative to
the size of the current element it makes it relative to the size in the
base element of the document.</p>
</div>
<div id="side-values" class="section level3">
<h3>Side values</h3>
<p>A style has three settings that relates to the four sides of a box.
<code>margin</code>, <code>padding</code>, and <code>border_size</code>.
These are set to values constructed with <code>trbl()</code>, which
works like margin settings in CSS. If you provide it with 1 value it
will set all sides to that value. If you provide it with two values and
it will set top and bottom to the first and left and right to the
second. If you provide it with three values it will set the top to the
first, left and right to the second, and bottom to the third. If you
provide it with four values it will set the <strong>t</strong>op to the
first, <strong>r</strong>ight to the second, <strong>b</strong>ottom to
the third, and <strong>l</strong>eft to the fourth (the bold first
letters gives a clue to why the constructor is named as it is).</p>
</div>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
